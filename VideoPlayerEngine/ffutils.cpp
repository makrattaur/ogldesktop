#include "ffutils.h"


bool ffutil::OpenFirstMatchingCodecContext(AVFormatContext *formatCtx, AVMediaType type, unsigned int &streamIndex)
{
	if(!GetFirstMatchingStream(formatCtx, type, streamIndex))
	{
		return false;
	}

	AVCodecContext *codecCtx = formatCtx->streams[streamIndex]->codec;

	AVCodec *codec = avcodec_find_decoder(codecCtx->codec_id);
	if(codec == NULL)
	{
		return false;
	}

	if(avcodec_open2(codecCtx, codec, NULL) != 0)
	{
		return false;
	}

	return true;
}

bool ffutil::GetFirstMatchingStream(AVFormatContext *formatCtx, AVMediaType type, unsigned int &streamIndex)
{
	streamIndex = -1;

	for(unsigned int i = 0; i < formatCtx->nb_streams; i++)
	{
		if(formatCtx->streams[i]->codec->codec_type == type)
		{
			streamIndex = i;
			break;
		}
	}

	if(streamIndex == -1)
	{
		return false;
	}

	return true;
}

#define CASE_STR_SELF(x) case x: \
{ \
	return #x; \
}

#define CASE_STR_DEF() default: \
{ \
	return "<unknown>"; \
}

const char *ffutil::PixelFormatToString(AVPixelFormat fmt)
{
	switch (fmt)
	{
		CASE_STR_SELF(AV_PIX_FMT_NONE)
		CASE_STR_SELF(AV_PIX_FMT_YUV420P)
		CASE_STR_SELF(AV_PIX_FMT_YUYV422)
		CASE_STR_SELF(AV_PIX_FMT_RGB24)
		CASE_STR_SELF(AV_PIX_FMT_BGR24)
		CASE_STR_SELF(AV_PIX_FMT_YUV422P)
		CASE_STR_SELF(AV_PIX_FMT_YUV444P)
		CASE_STR_SELF(AV_PIX_FMT_YUV410P)
		CASE_STR_SELF(AV_PIX_FMT_YUV411P)
		CASE_STR_SELF(AV_PIX_FMT_GRAY8)
		CASE_STR_SELF(AV_PIX_FMT_MONOWHITE)
		CASE_STR_SELF(AV_PIX_FMT_MONOBLACK)
		CASE_STR_SELF(AV_PIX_FMT_PAL8)
		CASE_STR_SELF(AV_PIX_FMT_YUVJ420P)
		CASE_STR_SELF(AV_PIX_FMT_YUVJ422P)
		CASE_STR_SELF(AV_PIX_FMT_YUVJ444P)
		CASE_STR_SELF(AV_PIX_FMT_XVMC_MPEG2_MC)
		CASE_STR_SELF(AV_PIX_FMT_XVMC_MPEG2_IDCT)
		CASE_STR_SELF(AV_PIX_FMT_UYVY422)
		CASE_STR_SELF(AV_PIX_FMT_UYYVYY411)
		CASE_STR_SELF(AV_PIX_FMT_BGR8)
		CASE_STR_SELF(AV_PIX_FMT_BGR4)
		CASE_STR_SELF(AV_PIX_FMT_BGR4_BYTE)
		CASE_STR_SELF(AV_PIX_FMT_RGB8)
		CASE_STR_SELF(AV_PIX_FMT_RGB4)
		CASE_STR_SELF(AV_PIX_FMT_RGB4_BYTE)
		CASE_STR_SELF(AV_PIX_FMT_NV12)
		CASE_STR_SELF(AV_PIX_FMT_NV21)
		CASE_STR_SELF(AV_PIX_FMT_ARGB)
		CASE_STR_SELF(AV_PIX_FMT_RGBA)
		CASE_STR_SELF(AV_PIX_FMT_ABGR)
		CASE_STR_SELF(AV_PIX_FMT_BGRA)
		CASE_STR_SELF(AV_PIX_FMT_GRAY16BE)
		CASE_STR_SELF(AV_PIX_FMT_GRAY16LE)
		CASE_STR_SELF(AV_PIX_FMT_YUV440P)
		CASE_STR_SELF(AV_PIX_FMT_YUVJ440P)
		CASE_STR_SELF(AV_PIX_FMT_YUVA420P)
		CASE_STR_SELF(AV_PIX_FMT_VDPAU_H264)
		CASE_STR_SELF(AV_PIX_FMT_VDPAU_MPEG1)
		CASE_STR_SELF(AV_PIX_FMT_VDPAU_MPEG2)
		CASE_STR_SELF(AV_PIX_FMT_VDPAU_WMV3)
		CASE_STR_SELF(AV_PIX_FMT_VDPAU_VC1)
		CASE_STR_SELF(AV_PIX_FMT_RGB48BE)
		CASE_STR_SELF(AV_PIX_FMT_RGB48LE)
		CASE_STR_SELF(AV_PIX_FMT_RGB565BE)
		CASE_STR_SELF(AV_PIX_FMT_RGB565LE)
		CASE_STR_SELF(AV_PIX_FMT_RGB555BE)
		CASE_STR_SELF(AV_PIX_FMT_RGB555LE)
		CASE_STR_SELF(AV_PIX_FMT_BGR565BE)
		CASE_STR_SELF(AV_PIX_FMT_BGR565LE)
		CASE_STR_SELF(AV_PIX_FMT_BGR555BE)
		CASE_STR_SELF(AV_PIX_FMT_BGR555LE)
		CASE_STR_SELF(AV_PIX_FMT_VAAPI_MOCO)
		CASE_STR_SELF(AV_PIX_FMT_VAAPI_IDCT)
		CASE_STR_SELF(AV_PIX_FMT_VAAPI_VLD)
		CASE_STR_SELF(AV_PIX_FMT_YUV420P16LE)
		CASE_STR_SELF(AV_PIX_FMT_YUV420P16BE)
		CASE_STR_SELF(AV_PIX_FMT_YUV422P16LE)
		CASE_STR_SELF(AV_PIX_FMT_YUV422P16BE)
		CASE_STR_SELF(AV_PIX_FMT_YUV444P16LE)
		CASE_STR_SELF(AV_PIX_FMT_YUV444P16BE)
		CASE_STR_SELF(AV_PIX_FMT_VDPAU_MPEG4)
		CASE_STR_SELF(AV_PIX_FMT_DXVA2_VLD)
		CASE_STR_SELF(AV_PIX_FMT_RGB444LE)
		CASE_STR_SELF(AV_PIX_FMT_RGB444BE)
		CASE_STR_SELF(AV_PIX_FMT_BGR444LE)
		CASE_STR_SELF(AV_PIX_FMT_BGR444BE)
		CASE_STR_SELF(AV_PIX_FMT_GRAY8A)
		CASE_STR_SELF(AV_PIX_FMT_BGR48BE)
		CASE_STR_SELF(AV_PIX_FMT_BGR48LE)
		CASE_STR_SELF(AV_PIX_FMT_YUV420P9BE)
		CASE_STR_SELF(AV_PIX_FMT_YUV420P9LE)
		CASE_STR_SELF(AV_PIX_FMT_YUV420P10BE)
		CASE_STR_SELF(AV_PIX_FMT_YUV420P10LE)
		CASE_STR_SELF(AV_PIX_FMT_YUV422P10BE)
		CASE_STR_SELF(AV_PIX_FMT_YUV422P10LE)
		CASE_STR_SELF(AV_PIX_FMT_YUV444P9BE)
		CASE_STR_SELF(AV_PIX_FMT_YUV444P9LE)
		CASE_STR_SELF(AV_PIX_FMT_YUV444P10BE)
		CASE_STR_SELF(AV_PIX_FMT_YUV444P10LE)
		CASE_STR_SELF(AV_PIX_FMT_YUV422P9BE)
		CASE_STR_SELF(AV_PIX_FMT_YUV422P9LE)
		CASE_STR_SELF(AV_PIX_FMT_VDA_VLD)
		CASE_STR_SELF(AV_PIX_FMT_GBRP)
		CASE_STR_SELF(AV_PIX_FMT_GBRP9BE)
		CASE_STR_SELF(AV_PIX_FMT_GBRP9LE)
		CASE_STR_SELF(AV_PIX_FMT_GBRP10BE)
		CASE_STR_SELF(AV_PIX_FMT_GBRP10LE)
		CASE_STR_SELF(AV_PIX_FMT_GBRP16BE)
		CASE_STR_SELF(AV_PIX_FMT_GBRP16LE)
		CASE_STR_SELF(AV_PIX_FMT_YUVA422P_LIBAV)
		CASE_STR_SELF(AV_PIX_FMT_YUVA444P_LIBAV)
		CASE_STR_SELF(AV_PIX_FMT_YUVA420P9BE)
		CASE_STR_SELF(AV_PIX_FMT_YUVA420P9LE)
		CASE_STR_SELF(AV_PIX_FMT_YUVA422P9BE)
		CASE_STR_SELF(AV_PIX_FMT_YUVA422P9LE)
		CASE_STR_SELF(AV_PIX_FMT_YUVA444P9BE)
		CASE_STR_SELF(AV_PIX_FMT_YUVA444P9LE)
		CASE_STR_SELF(AV_PIX_FMT_YUVA420P10BE)
		CASE_STR_SELF(AV_PIX_FMT_YUVA420P10LE)
		CASE_STR_SELF(AV_PIX_FMT_YUVA422P10BE)
		CASE_STR_SELF(AV_PIX_FMT_YUVA422P10LE)
		CASE_STR_SELF(AV_PIX_FMT_YUVA444P10BE)
		CASE_STR_SELF(AV_PIX_FMT_YUVA444P10LE)
		CASE_STR_SELF(AV_PIX_FMT_YUVA420P16BE)
		CASE_STR_SELF(AV_PIX_FMT_YUVA420P16LE)
		CASE_STR_SELF(AV_PIX_FMT_YUVA422P16BE)
		CASE_STR_SELF(AV_PIX_FMT_YUVA422P16LE)
		CASE_STR_SELF(AV_PIX_FMT_YUVA444P16BE)
		CASE_STR_SELF(AV_PIX_FMT_YUVA444P16LE)
		CASE_STR_SELF(AV_PIX_FMT_VDPAU)
		CASE_STR_SELF(AV_PIX_FMT_XYZ12LE)
		CASE_STR_SELF(AV_PIX_FMT_XYZ12BE)
		CASE_STR_SELF(AV_PIX_FMT_NV16)
		CASE_STR_SELF(AV_PIX_FMT_NV20LE)
		CASE_STR_SELF(AV_PIX_FMT_NV20BE)
		CASE_STR_SELF(AV_PIX_FMT_RGBA64BE)
		CASE_STR_SELF(AV_PIX_FMT_RGBA64LE)
		CASE_STR_SELF(AV_PIX_FMT_BGRA64BE)
		CASE_STR_SELF(AV_PIX_FMT_BGRA64LE)
		CASE_STR_SELF(AV_PIX_FMT_0RGB)
		CASE_STR_SELF(AV_PIX_FMT_RGB0)
		CASE_STR_SELF(AV_PIX_FMT_0BGR)
		CASE_STR_SELF(AV_PIX_FMT_BGR0)
		CASE_STR_SELF(AV_PIX_FMT_YUVA444P)
		CASE_STR_SELF(AV_PIX_FMT_YUVA422P)
		CASE_STR_SELF(AV_PIX_FMT_YUV420P12BE)
		CASE_STR_SELF(AV_PIX_FMT_YUV420P12LE)
		CASE_STR_SELF(AV_PIX_FMT_YUV420P14BE)
		CASE_STR_SELF(AV_PIX_FMT_YUV420P14LE)
		CASE_STR_SELF(AV_PIX_FMT_YUV422P12BE)
		CASE_STR_SELF(AV_PIX_FMT_YUV422P12LE)
		CASE_STR_SELF(AV_PIX_FMT_YUV422P14BE)
		CASE_STR_SELF(AV_PIX_FMT_YUV422P14LE)
		CASE_STR_SELF(AV_PIX_FMT_YUV444P12BE)
		CASE_STR_SELF(AV_PIX_FMT_YUV444P12LE)
		CASE_STR_SELF(AV_PIX_FMT_YUV444P14BE)
		CASE_STR_SELF(AV_PIX_FMT_YUV444P14LE)
		CASE_STR_SELF(AV_PIX_FMT_GBRP12BE)
		CASE_STR_SELF(AV_PIX_FMT_GBRP12LE)
		CASE_STR_SELF(AV_PIX_FMT_GBRP14BE)
		CASE_STR_SELF(AV_PIX_FMT_GBRP14LE)
		CASE_STR_SELF(AV_PIX_FMT_GBRAP)
		CASE_STR_SELF(AV_PIX_FMT_GBRAP16BE)
		CASE_STR_SELF(AV_PIX_FMT_GBRAP16LE)
		CASE_STR_SELF(AV_PIX_FMT_YUVJ411P)
		CASE_STR_SELF(AV_PIX_FMT_BAYER_BGGR8)
		CASE_STR_SELF(AV_PIX_FMT_BAYER_RGGB8)
		CASE_STR_SELF(AV_PIX_FMT_BAYER_GBRG8)
		CASE_STR_SELF(AV_PIX_FMT_BAYER_GRBG8)
		CASE_STR_SELF(AV_PIX_FMT_BAYER_BGGR16LE)
		CASE_STR_SELF(AV_PIX_FMT_BAYER_BGGR16BE)
		CASE_STR_SELF(AV_PIX_FMT_BAYER_RGGB16LE)
		CASE_STR_SELF(AV_PIX_FMT_BAYER_RGGB16BE)
		CASE_STR_SELF(AV_PIX_FMT_BAYER_GBRG16LE)
		CASE_STR_SELF(AV_PIX_FMT_BAYER_GBRG16BE)
		CASE_STR_SELF(AV_PIX_FMT_BAYER_GRBG16LE)
		CASE_STR_SELF(AV_PIX_FMT_BAYER_GRBG16BE)
		CASE_STR_SELF(AV_PIX_FMT_NB)
		CASE_STR_DEF()
	}
}

const char *ffutil::SampleFormatToString(AVSampleFormat fmt)
{
	switch (fmt)
	{
		CASE_STR_SELF(AV_SAMPLE_FMT_NONE)
		CASE_STR_SELF(AV_SAMPLE_FMT_U8)
		CASE_STR_SELF(AV_SAMPLE_FMT_S16)
		CASE_STR_SELF(AV_SAMPLE_FMT_S32)
		CASE_STR_SELF(AV_SAMPLE_FMT_FLT)
		CASE_STR_SELF(AV_SAMPLE_FMT_DBL)
		CASE_STR_SELF(AV_SAMPLE_FMT_U8P)
		CASE_STR_SELF(AV_SAMPLE_FMT_S16P)
		CASE_STR_SELF(AV_SAMPLE_FMT_S32P)
		CASE_STR_SELF(AV_SAMPLE_FMT_FLTP)
		CASE_STR_SELF(AV_SAMPLE_FMT_DBLP)
		CASE_STR_SELF(AV_SAMPLE_FMT_NB)
		CASE_STR_DEF()
	}
}

const char *ffutil::CodecIdToString(AVCodecID id)
{
	switch (id)
	{
		CASE_STR_SELF(AV_CODEC_ID_NONE)
		CASE_STR_SELF(AV_CODEC_ID_MPEG1VIDEO)
		CASE_STR_SELF(AV_CODEC_ID_MPEG2VIDEO)
		CASE_STR_SELF(AV_CODEC_ID_MPEG2VIDEO_XVMC)
		CASE_STR_SELF(AV_CODEC_ID_H261)
		CASE_STR_SELF(AV_CODEC_ID_H263)
		CASE_STR_SELF(AV_CODEC_ID_RV10)
		CASE_STR_SELF(AV_CODEC_ID_RV20)
		CASE_STR_SELF(AV_CODEC_ID_MJPEG)
		CASE_STR_SELF(AV_CODEC_ID_MJPEGB)
		CASE_STR_SELF(AV_CODEC_ID_LJPEG)
		CASE_STR_SELF(AV_CODEC_ID_SP5X)
		CASE_STR_SELF(AV_CODEC_ID_JPEGLS)
		CASE_STR_SELF(AV_CODEC_ID_MPEG4)
		CASE_STR_SELF(AV_CODEC_ID_RAWVIDEO)
		CASE_STR_SELF(AV_CODEC_ID_MSMPEG4V1)
		CASE_STR_SELF(AV_CODEC_ID_MSMPEG4V2)
		CASE_STR_SELF(AV_CODEC_ID_MSMPEG4V3)
		CASE_STR_SELF(AV_CODEC_ID_WMV1)
		CASE_STR_SELF(AV_CODEC_ID_WMV2)
		CASE_STR_SELF(AV_CODEC_ID_H263P)
		CASE_STR_SELF(AV_CODEC_ID_H263I)
		CASE_STR_SELF(AV_CODEC_ID_FLV1)
		CASE_STR_SELF(AV_CODEC_ID_SVQ1)
		CASE_STR_SELF(AV_CODEC_ID_SVQ3)
		CASE_STR_SELF(AV_CODEC_ID_DVVIDEO)
		CASE_STR_SELF(AV_CODEC_ID_HUFFYUV)
		CASE_STR_SELF(AV_CODEC_ID_CYUV)
		CASE_STR_SELF(AV_CODEC_ID_H264)
		CASE_STR_SELF(AV_CODEC_ID_INDEO3)
		CASE_STR_SELF(AV_CODEC_ID_VP3)
		CASE_STR_SELF(AV_CODEC_ID_THEORA)
		CASE_STR_SELF(AV_CODEC_ID_ASV1)
		CASE_STR_SELF(AV_CODEC_ID_ASV2)
		CASE_STR_SELF(AV_CODEC_ID_FFV1)
		CASE_STR_SELF(AV_CODEC_ID_4XM)
		CASE_STR_SELF(AV_CODEC_ID_VCR1)
		CASE_STR_SELF(AV_CODEC_ID_CLJR)
		CASE_STR_SELF(AV_CODEC_ID_MDEC)
		CASE_STR_SELF(AV_CODEC_ID_ROQ)
		CASE_STR_SELF(AV_CODEC_ID_INTERPLAY_VIDEO)
		CASE_STR_SELF(AV_CODEC_ID_XAN_WC3)
		CASE_STR_SELF(AV_CODEC_ID_XAN_WC4)
		CASE_STR_SELF(AV_CODEC_ID_RPZA)
		CASE_STR_SELF(AV_CODEC_ID_CINEPAK)
		CASE_STR_SELF(AV_CODEC_ID_WS_VQA)
		CASE_STR_SELF(AV_CODEC_ID_MSRLE)
		CASE_STR_SELF(AV_CODEC_ID_MSVIDEO1)
		CASE_STR_SELF(AV_CODEC_ID_IDCIN)
		CASE_STR_SELF(AV_CODEC_ID_8BPS)
		CASE_STR_SELF(AV_CODEC_ID_SMC)
		CASE_STR_SELF(AV_CODEC_ID_FLIC)
		CASE_STR_SELF(AV_CODEC_ID_TRUEMOTION1)
		CASE_STR_SELF(AV_CODEC_ID_VMDVIDEO)
		CASE_STR_SELF(AV_CODEC_ID_MSZH)
		CASE_STR_SELF(AV_CODEC_ID_ZLIB)
		CASE_STR_SELF(AV_CODEC_ID_QTRLE)
		CASE_STR_SELF(AV_CODEC_ID_TSCC)
		CASE_STR_SELF(AV_CODEC_ID_ULTI)
		CASE_STR_SELF(AV_CODEC_ID_QDRAW)
		CASE_STR_SELF(AV_CODEC_ID_VIXL)
		CASE_STR_SELF(AV_CODEC_ID_QPEG)
		CASE_STR_SELF(AV_CODEC_ID_PNG)
		CASE_STR_SELF(AV_CODEC_ID_PPM)
		CASE_STR_SELF(AV_CODEC_ID_PBM)
		CASE_STR_SELF(AV_CODEC_ID_PGM)
		CASE_STR_SELF(AV_CODEC_ID_PGMYUV)
		CASE_STR_SELF(AV_CODEC_ID_PAM)
		CASE_STR_SELF(AV_CODEC_ID_FFVHUFF)
		CASE_STR_SELF(AV_CODEC_ID_RV30)
		CASE_STR_SELF(AV_CODEC_ID_RV40)
		CASE_STR_SELF(AV_CODEC_ID_VC1)
		CASE_STR_SELF(AV_CODEC_ID_WMV3)
		CASE_STR_SELF(AV_CODEC_ID_LOCO)
		CASE_STR_SELF(AV_CODEC_ID_WNV1)
		CASE_STR_SELF(AV_CODEC_ID_AASC)
		CASE_STR_SELF(AV_CODEC_ID_INDEO2)
		CASE_STR_SELF(AV_CODEC_ID_FRAPS)
		CASE_STR_SELF(AV_CODEC_ID_TRUEMOTION2)
		CASE_STR_SELF(AV_CODEC_ID_BMP)
		CASE_STR_SELF(AV_CODEC_ID_CSCD)
		CASE_STR_SELF(AV_CODEC_ID_MMVIDEO)
		CASE_STR_SELF(AV_CODEC_ID_ZMBV)
		CASE_STR_SELF(AV_CODEC_ID_AVS)
		CASE_STR_SELF(AV_CODEC_ID_SMACKVIDEO)
		CASE_STR_SELF(AV_CODEC_ID_NUV)
		CASE_STR_SELF(AV_CODEC_ID_KMVC)
		CASE_STR_SELF(AV_CODEC_ID_FLASHSV)
		CASE_STR_SELF(AV_CODEC_ID_CAVS)
		CASE_STR_SELF(AV_CODEC_ID_JPEG2000)
		CASE_STR_SELF(AV_CODEC_ID_VMNC)
		CASE_STR_SELF(AV_CODEC_ID_VP5)
		CASE_STR_SELF(AV_CODEC_ID_VP6)
		CASE_STR_SELF(AV_CODEC_ID_VP6F)
		CASE_STR_SELF(AV_CODEC_ID_TARGA)
		CASE_STR_SELF(AV_CODEC_ID_DSICINVIDEO)
		CASE_STR_SELF(AV_CODEC_ID_TIERTEXSEQVIDEO)
		CASE_STR_SELF(AV_CODEC_ID_TIFF)
		CASE_STR_SELF(AV_CODEC_ID_GIF)
		CASE_STR_SELF(AV_CODEC_ID_DXA)
		CASE_STR_SELF(AV_CODEC_ID_DNXHD)
		CASE_STR_SELF(AV_CODEC_ID_THP)
		CASE_STR_SELF(AV_CODEC_ID_SGI)
		CASE_STR_SELF(AV_CODEC_ID_C93)
		CASE_STR_SELF(AV_CODEC_ID_BETHSOFTVID)
		CASE_STR_SELF(AV_CODEC_ID_PTX)
		CASE_STR_SELF(AV_CODEC_ID_TXD)
		CASE_STR_SELF(AV_CODEC_ID_VP6A)
		CASE_STR_SELF(AV_CODEC_ID_AMV)
		CASE_STR_SELF(AV_CODEC_ID_VB)
		CASE_STR_SELF(AV_CODEC_ID_PCX)
		CASE_STR_SELF(AV_CODEC_ID_SUNRAST)
		CASE_STR_SELF(AV_CODEC_ID_INDEO4)
		CASE_STR_SELF(AV_CODEC_ID_INDEO5)
		CASE_STR_SELF(AV_CODEC_ID_MIMIC)
		CASE_STR_SELF(AV_CODEC_ID_RL2)
		CASE_STR_SELF(AV_CODEC_ID_ESCAPE124)
		CASE_STR_SELF(AV_CODEC_ID_DIRAC)
		CASE_STR_SELF(AV_CODEC_ID_BFI)
		CASE_STR_SELF(AV_CODEC_ID_CMV)
		CASE_STR_SELF(AV_CODEC_ID_MOTIONPIXELS)
		CASE_STR_SELF(AV_CODEC_ID_TGV)
		CASE_STR_SELF(AV_CODEC_ID_TGQ)
		CASE_STR_SELF(AV_CODEC_ID_TQI)
		CASE_STR_SELF(AV_CODEC_ID_AURA)
		CASE_STR_SELF(AV_CODEC_ID_AURA2)
		CASE_STR_SELF(AV_CODEC_ID_V210X)
		CASE_STR_SELF(AV_CODEC_ID_TMV)
		CASE_STR_SELF(AV_CODEC_ID_V210)
		CASE_STR_SELF(AV_CODEC_ID_DPX)
		CASE_STR_SELF(AV_CODEC_ID_MAD)
		CASE_STR_SELF(AV_CODEC_ID_FRWU)
		CASE_STR_SELF(AV_CODEC_ID_FLASHSV2)
		CASE_STR_SELF(AV_CODEC_ID_CDGRAPHICS)
		CASE_STR_SELF(AV_CODEC_ID_R210)
		CASE_STR_SELF(AV_CODEC_ID_ANM)
		CASE_STR_SELF(AV_CODEC_ID_BINKVIDEO)
		CASE_STR_SELF(AV_CODEC_ID_IFF_ILBM)
		CASE_STR_SELF(AV_CODEC_ID_IFF_BYTERUN1)
		CASE_STR_SELF(AV_CODEC_ID_KGV1)
		CASE_STR_SELF(AV_CODEC_ID_YOP)
		CASE_STR_SELF(AV_CODEC_ID_VP8)
		CASE_STR_SELF(AV_CODEC_ID_PICTOR)
		CASE_STR_SELF(AV_CODEC_ID_ANSI)
		CASE_STR_SELF(AV_CODEC_ID_A64_MULTI)
		CASE_STR_SELF(AV_CODEC_ID_A64_MULTI5)
		CASE_STR_SELF(AV_CODEC_ID_R10K)
		CASE_STR_SELF(AV_CODEC_ID_MXPEG)
		CASE_STR_SELF(AV_CODEC_ID_LAGARITH)
		CASE_STR_SELF(AV_CODEC_ID_PRORES)
		CASE_STR_SELF(AV_CODEC_ID_JV)
		CASE_STR_SELF(AV_CODEC_ID_DFA)
		CASE_STR_SELF(AV_CODEC_ID_WMV3IMAGE)
		CASE_STR_SELF(AV_CODEC_ID_VC1IMAGE)
		CASE_STR_SELF(AV_CODEC_ID_UTVIDEO)
		CASE_STR_SELF(AV_CODEC_ID_BMV_VIDEO)
		CASE_STR_SELF(AV_CODEC_ID_VBLE)
		CASE_STR_SELF(AV_CODEC_ID_DXTORY)
		CASE_STR_SELF(AV_CODEC_ID_V410)
		CASE_STR_SELF(AV_CODEC_ID_XWD)
		CASE_STR_SELF(AV_CODEC_ID_CDXL)
		CASE_STR_SELF(AV_CODEC_ID_XBM)
		CASE_STR_SELF(AV_CODEC_ID_ZEROCODEC)
		CASE_STR_SELF(AV_CODEC_ID_MSS1)
		CASE_STR_SELF(AV_CODEC_ID_MSA1)
		CASE_STR_SELF(AV_CODEC_ID_TSCC2)
		CASE_STR_SELF(AV_CODEC_ID_MTS2)
		CASE_STR_SELF(AV_CODEC_ID_CLLC)
		CASE_STR_SELF(AV_CODEC_ID_MSS2)
		CASE_STR_SELF(AV_CODEC_ID_VP9)
		CASE_STR_SELF(AV_CODEC_ID_AIC)
		CASE_STR_SELF(AV_CODEC_ID_ESCAPE130_DEPRECATED)
		CASE_STR_SELF(AV_CODEC_ID_G2M_DEPRECATED)
		CASE_STR_SELF(AV_CODEC_ID_WEBP_DEPRECATED)
		CASE_STR_SELF(AV_CODEC_ID_HNM4_VIDEO)
		CASE_STR_SELF(AV_CODEC_ID_HEVC_DEPRECATED)
		CASE_STR_SELF(AV_CODEC_ID_BRENDER_PIX)
		CASE_STR_SELF(AV_CODEC_ID_Y41P)
		CASE_STR_SELF(AV_CODEC_ID_ESCAPE130)
		CASE_STR_SELF(AV_CODEC_ID_EXR)
		CASE_STR_SELF(AV_CODEC_ID_AVRP)
		CASE_STR_SELF(AV_CODEC_ID_012V)
		CASE_STR_SELF(AV_CODEC_ID_G2M)
		CASE_STR_SELF(AV_CODEC_ID_AVUI)
		CASE_STR_SELF(AV_CODEC_ID_AYUV)
		CASE_STR_SELF(AV_CODEC_ID_TARGA_Y216)
		CASE_STR_SELF(AV_CODEC_ID_V308)
		CASE_STR_SELF(AV_CODEC_ID_V408)
		CASE_STR_SELF(AV_CODEC_ID_YUV4)
		CASE_STR_SELF(AV_CODEC_ID_SANM)
		CASE_STR_SELF(AV_CODEC_ID_PAF_VIDEO)
		CASE_STR_SELF(AV_CODEC_ID_AVRN)
		CASE_STR_SELF(AV_CODEC_ID_CPIA)
		CASE_STR_SELF(AV_CODEC_ID_XFACE)
		CASE_STR_SELF(AV_CODEC_ID_SGIRLE)
		CASE_STR_SELF(AV_CODEC_ID_MVC1)
		CASE_STR_SELF(AV_CODEC_ID_MVC2)
		CASE_STR_SELF(AV_CODEC_ID_SNOW)
		CASE_STR_SELF(AV_CODEC_ID_WEBP)
		CASE_STR_SELF(AV_CODEC_ID_SMVJPEG)
		CASE_STR_SELF(AV_CODEC_ID_HEVC)
		CASE_STR_SELF(AV_CODEC_ID_PCM_S16LE)
		CASE_STR_SELF(AV_CODEC_ID_PCM_S16BE)
		CASE_STR_SELF(AV_CODEC_ID_PCM_U16LE)
		CASE_STR_SELF(AV_CODEC_ID_PCM_U16BE)
		CASE_STR_SELF(AV_CODEC_ID_PCM_S8)
		CASE_STR_SELF(AV_CODEC_ID_PCM_U8)
		CASE_STR_SELF(AV_CODEC_ID_PCM_MULAW)
		CASE_STR_SELF(AV_CODEC_ID_PCM_ALAW)
		CASE_STR_SELF(AV_CODEC_ID_PCM_S32LE)
		CASE_STR_SELF(AV_CODEC_ID_PCM_S32BE)
		CASE_STR_SELF(AV_CODEC_ID_PCM_U32LE)
		CASE_STR_SELF(AV_CODEC_ID_PCM_U32BE)
		CASE_STR_SELF(AV_CODEC_ID_PCM_S24LE)
		CASE_STR_SELF(AV_CODEC_ID_PCM_S24BE)
		CASE_STR_SELF(AV_CODEC_ID_PCM_U24LE)
		CASE_STR_SELF(AV_CODEC_ID_PCM_U24BE)
		CASE_STR_SELF(AV_CODEC_ID_PCM_S24DAUD)
		CASE_STR_SELF(AV_CODEC_ID_PCM_ZORK)
		CASE_STR_SELF(AV_CODEC_ID_PCM_S16LE_PLANAR)
		CASE_STR_SELF(AV_CODEC_ID_PCM_DVD)
		CASE_STR_SELF(AV_CODEC_ID_PCM_F32BE)
		CASE_STR_SELF(AV_CODEC_ID_PCM_F32LE)
		CASE_STR_SELF(AV_CODEC_ID_PCM_F64BE)
		CASE_STR_SELF(AV_CODEC_ID_PCM_F64LE)
		CASE_STR_SELF(AV_CODEC_ID_PCM_BLURAY)
		CASE_STR_SELF(AV_CODEC_ID_PCM_LXF)
		CASE_STR_SELF(AV_CODEC_ID_S302M)
		CASE_STR_SELF(AV_CODEC_ID_PCM_S8_PLANAR)
		CASE_STR_SELF(AV_CODEC_ID_PCM_S24LE_PLANAR_DEPRECATED)
		CASE_STR_SELF(AV_CODEC_ID_PCM_S32LE_PLANAR_DEPRECATED)
		CASE_STR_SELF(AV_CODEC_ID_PCM_S24LE_PLANAR)
		CASE_STR_SELF(AV_CODEC_ID_PCM_S32LE_PLANAR)
		CASE_STR_SELF(AV_CODEC_ID_PCM_S16BE_PLANAR)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_IMA_QT)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_IMA_WAV)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_IMA_DK3)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_IMA_DK4)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_IMA_WS)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_IMA_SMJPEG)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_MS)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_4XM)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_XA)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_ADX)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_EA)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_G726)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_CT)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_SWF)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_YAMAHA)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_SBPRO_4)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_SBPRO_3)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_SBPRO_2)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_THP)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_IMA_AMV)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_EA_R1)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_EA_R3)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_EA_R2)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_IMA_EA_SEAD)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_IMA_EA_EACS)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_EA_XAS)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_EA_MAXIS_XA)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_IMA_ISS)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_G722)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_IMA_APC)
		CASE_STR_SELF(AV_CODEC_ID_VIMA)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_AFC)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_IMA_OKI)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_DTK)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_IMA_RAD)
		CASE_STR_SELF(AV_CODEC_ID_ADPCM_G726LE)
		CASE_STR_SELF(AV_CODEC_ID_AMR_NB)
		CASE_STR_SELF(AV_CODEC_ID_AMR_WB)
		CASE_STR_SELF(AV_CODEC_ID_RA_144)
		CASE_STR_SELF(AV_CODEC_ID_RA_288)
		CASE_STR_SELF(AV_CODEC_ID_ROQ_DPCM)
		CASE_STR_SELF(AV_CODEC_ID_INTERPLAY_DPCM)
		CASE_STR_SELF(AV_CODEC_ID_XAN_DPCM)
		CASE_STR_SELF(AV_CODEC_ID_SOL_DPCM)
		CASE_STR_SELF(AV_CODEC_ID_MP2)
		CASE_STR_SELF(AV_CODEC_ID_MP3)
		CASE_STR_SELF(AV_CODEC_ID_AAC)
		CASE_STR_SELF(AV_CODEC_ID_AC3)
		CASE_STR_SELF(AV_CODEC_ID_DTS)
		CASE_STR_SELF(AV_CODEC_ID_VORBIS)
		CASE_STR_SELF(AV_CODEC_ID_DVAUDIO)
		CASE_STR_SELF(AV_CODEC_ID_WMAV1)
		CASE_STR_SELF(AV_CODEC_ID_WMAV2)
		CASE_STR_SELF(AV_CODEC_ID_MACE3)
		CASE_STR_SELF(AV_CODEC_ID_MACE6)
		CASE_STR_SELF(AV_CODEC_ID_VMDAUDIO)
		CASE_STR_SELF(AV_CODEC_ID_FLAC)
		CASE_STR_SELF(AV_CODEC_ID_MP3ADU)
		CASE_STR_SELF(AV_CODEC_ID_MP3ON4)
		CASE_STR_SELF(AV_CODEC_ID_SHORTEN)
		CASE_STR_SELF(AV_CODEC_ID_ALAC)
		CASE_STR_SELF(AV_CODEC_ID_WESTWOOD_SND1)
		CASE_STR_SELF(AV_CODEC_ID_GSM)
		CASE_STR_SELF(AV_CODEC_ID_QDM2)
		CASE_STR_SELF(AV_CODEC_ID_COOK)
		CASE_STR_SELF(AV_CODEC_ID_TRUESPEECH)
		CASE_STR_SELF(AV_CODEC_ID_TTA)
		CASE_STR_SELF(AV_CODEC_ID_SMACKAUDIO)
		CASE_STR_SELF(AV_CODEC_ID_QCELP)
		CASE_STR_SELF(AV_CODEC_ID_WAVPACK)
		CASE_STR_SELF(AV_CODEC_ID_DSICINAUDIO)
		CASE_STR_SELF(AV_CODEC_ID_IMC)
		CASE_STR_SELF(AV_CODEC_ID_MUSEPACK7)
		CASE_STR_SELF(AV_CODEC_ID_MLP)
		CASE_STR_SELF(AV_CODEC_ID_GSM_MS)
		CASE_STR_SELF(AV_CODEC_ID_ATRAC3)
		CASE_STR_SELF(AV_CODEC_ID_VOXWARE)
		CASE_STR_SELF(AV_CODEC_ID_APE)
		CASE_STR_SELF(AV_CODEC_ID_NELLYMOSER)
		CASE_STR_SELF(AV_CODEC_ID_MUSEPACK8)
		CASE_STR_SELF(AV_CODEC_ID_SPEEX)
		CASE_STR_SELF(AV_CODEC_ID_WMAVOICE)
		CASE_STR_SELF(AV_CODEC_ID_WMAPRO)
		CASE_STR_SELF(AV_CODEC_ID_WMALOSSLESS)
		CASE_STR_SELF(AV_CODEC_ID_ATRAC3P)
		CASE_STR_SELF(AV_CODEC_ID_EAC3)
		CASE_STR_SELF(AV_CODEC_ID_SIPR)
		CASE_STR_SELF(AV_CODEC_ID_MP1)
		CASE_STR_SELF(AV_CODEC_ID_TWINVQ)
		CASE_STR_SELF(AV_CODEC_ID_TRUEHD)
		CASE_STR_SELF(AV_CODEC_ID_MP4ALS)
		CASE_STR_SELF(AV_CODEC_ID_ATRAC1)
		CASE_STR_SELF(AV_CODEC_ID_BINKAUDIO_RDFT)
		CASE_STR_SELF(AV_CODEC_ID_BINKAUDIO_DCT)
		CASE_STR_SELF(AV_CODEC_ID_AAC_LATM)
		CASE_STR_SELF(AV_CODEC_ID_QDMC)
		CASE_STR_SELF(AV_CODEC_ID_CELT)
		CASE_STR_SELF(AV_CODEC_ID_G723_1)
		CASE_STR_SELF(AV_CODEC_ID_G729)
		CASE_STR_SELF(AV_CODEC_ID_8SVX_EXP)
		CASE_STR_SELF(AV_CODEC_ID_8SVX_FIB)
		CASE_STR_SELF(AV_CODEC_ID_BMV_AUDIO)
		CASE_STR_SELF(AV_CODEC_ID_RALF)
		CASE_STR_SELF(AV_CODEC_ID_IAC)
		CASE_STR_SELF(AV_CODEC_ID_ILBC)
		CASE_STR_SELF(AV_CODEC_ID_OPUS_DEPRECATED)
		CASE_STR_SELF(AV_CODEC_ID_COMFORT_NOISE)
		CASE_STR_SELF(AV_CODEC_ID_TAK_DEPRECATED)
		CASE_STR_SELF(AV_CODEC_ID_METASOUND)
		CASE_STR_SELF(AV_CODEC_ID_FFWAVESYNTH)
		CASE_STR_SELF(AV_CODEC_ID_SONIC)
		CASE_STR_SELF(AV_CODEC_ID_SONIC_LS)
		CASE_STR_SELF(AV_CODEC_ID_PAF_AUDIO)
		CASE_STR_SELF(AV_CODEC_ID_OPUS)
		CASE_STR_SELF(AV_CODEC_ID_TAK)
		CASE_STR_SELF(AV_CODEC_ID_EVRC)
		CASE_STR_SELF(AV_CODEC_ID_SMV)
		CASE_STR_SELF(AV_CODEC_ID_DVD_SUBTITLE)
		CASE_STR_SELF(AV_CODEC_ID_DVB_SUBTITLE)
		CASE_STR_SELF(AV_CODEC_ID_TEXT)
		CASE_STR_SELF(AV_CODEC_ID_XSUB)
		CASE_STR_SELF(AV_CODEC_ID_SSA)
		CASE_STR_SELF(AV_CODEC_ID_MOV_TEXT)
		CASE_STR_SELF(AV_CODEC_ID_HDMV_PGS_SUBTITLE)
		CASE_STR_SELF(AV_CODEC_ID_DVB_TELETEXT)
		CASE_STR_SELF(AV_CODEC_ID_SRT)
		CASE_STR_SELF(AV_CODEC_ID_MICRODVD)
		CASE_STR_SELF(AV_CODEC_ID_EIA_608)
		CASE_STR_SELF(AV_CODEC_ID_JACOSUB)
		CASE_STR_SELF(AV_CODEC_ID_SAMI)
		CASE_STR_SELF(AV_CODEC_ID_REALTEXT)
		CASE_STR_SELF(AV_CODEC_ID_SUBVIEWER1)
		CASE_STR_SELF(AV_CODEC_ID_SUBVIEWER)
		CASE_STR_SELF(AV_CODEC_ID_SUBRIP)
		CASE_STR_SELF(AV_CODEC_ID_WEBVTT)
		CASE_STR_SELF(AV_CODEC_ID_MPL2)
		CASE_STR_SELF(AV_CODEC_ID_VPLAYER)
		CASE_STR_SELF(AV_CODEC_ID_PJS)
		CASE_STR_SELF(AV_CODEC_ID_ASS)
		CASE_STR_SELF(AV_CODEC_ID_TTF)
		CASE_STR_SELF(AV_CODEC_ID_BINTEXT)
		CASE_STR_SELF(AV_CODEC_ID_XBIN)
		CASE_STR_SELF(AV_CODEC_ID_IDF)
		CASE_STR_SELF(AV_CODEC_ID_OTF)
		CASE_STR_SELF(AV_CODEC_ID_SMPTE_KLV)
		CASE_STR_SELF(AV_CODEC_ID_DVD_NAV)
		CASE_STR_SELF(AV_CODEC_ID_PROBE)
		CASE_STR_SELF(AV_CODEC_ID_MPEG2TS)
		CASE_STR_SELF(AV_CODEC_ID_MPEG4SYSTEMS)
		CASE_STR_SELF(AV_CODEC_ID_FFMETADATA)
		CASE_STR_DEF()
	}
}

const char *ffutil::ChannelLayoutToString(uint64_t channelLayout)
{
	switch (channelLayout)
	{
		CASE_STR_SELF(AV_CH_LAYOUT_STEREO_DOWNMIX)
		CASE_STR_SELF(AV_CH_LAYOUT_OCTAGONAL)
		CASE_STR_SELF(AV_CH_LAYOUT_7POINT1_WIDE_BACK)
		CASE_STR_SELF(AV_CH_LAYOUT_7POINT1_WIDE)
		CASE_STR_SELF(AV_CH_LAYOUT_7POINT1)
		CASE_STR_SELF(AV_CH_LAYOUT_7POINT0_FRONT)
		CASE_STR_SELF(AV_CH_LAYOUT_7POINT0)
		CASE_STR_SELF(AV_CH_LAYOUT_6POINT1_FRONT)
		CASE_STR_SELF(AV_CH_LAYOUT_6POINT1_BACK)
		CASE_STR_SELF(AV_CH_LAYOUT_6POINT1)
		CASE_STR_SELF(AV_CH_LAYOUT_HEXAGONAL)
		CASE_STR_SELF(AV_CH_LAYOUT_6POINT0_FRONT)
		CASE_STR_SELF(AV_CH_LAYOUT_6POINT0)
		CASE_STR_SELF(AV_CH_LAYOUT_5POINT1_BACK)
		CASE_STR_SELF(AV_CH_LAYOUT_5POINT0_BACK)
		CASE_STR_SELF(AV_CH_LAYOUT_5POINT1)
		CASE_STR_SELF(AV_CH_LAYOUT_5POINT0)
		CASE_STR_SELF(AV_CH_LAYOUT_QUAD)
		CASE_STR_SELF(AV_CH_LAYOUT_2_2)
		CASE_STR_SELF(AV_CH_LAYOUT_4POINT1)
		CASE_STR_SELF(AV_CH_LAYOUT_4POINT0)
		CASE_STR_SELF(AV_CH_LAYOUT_3POINT1)
		CASE_STR_SELF(AV_CH_LAYOUT_SURROUND)
		CASE_STR_SELF(AV_CH_LAYOUT_2_1)
		CASE_STR_SELF(AV_CH_LAYOUT_2POINT1)
		CASE_STR_SELF(AV_CH_LAYOUT_STEREO)
		CASE_STR_SELF(AV_CH_LAYOUT_MONO)
		default:
		{
			return "<unknown combinaison of channels>";
		}
	}
}

